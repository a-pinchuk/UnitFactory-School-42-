/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   main.c                                             :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: rbozhko <marvin@42.fr>                     +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2016/12/26 10:11:49 by rbozhko           #+#    #+#             */
/*   Updated: 2016/12/26 10:11:58 by rbozhko          ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "fillit.h"

t_tetriminos	g_templates[19] =
{
	{"#...#...#...#...", 1, 4, {{0, 0}, {1, 0}, {2, 0}, {3, 0}}},
	{"####............", 4, 1, {{0, 0}, {0, 1}, {0, 2}, {0, 3}}},
	{"#...#...##......", 2, 3, {{0, 0}, {1, 0}, {2, 0}, {2, 1}}},
	{"..#.###.........", 3, 2, {{0, 2}, {1, 0}, {1, 1}, {1, 2}}},
	{"##...#...#......", 2, 3, {{0, 0}, {0, 1}, {1, 1}, {2, 1}}},
	{"###.#...........", 3, 2, {{0, 0}, {0, 1}, {0, 2}, {1, 0}}},
	{".#...#..##......", 2, 3, {{0, 1}, {1, 1}, {2, 0}, {2, 1}}},
	{"###...#.........", 3, 2, {{0, 0}, {0, 1}, {0, 2}, {1, 2}}},
	{"##..#...#.......", 2, 3, {{0, 0}, {0, 1}, {1, 0}, {2, 0}}},
	{"#...###.........", 3, 2, {{0, 0}, {1, 0}, {1, 1}, {1, 2}}},
	{"###..#..........", 3, 2, {{0, 0}, {0, 1}, {0, 2}, {1, 1}}},
	{"#...##..#.......", 2, 3, {{0, 0}, {1, 0}, {1, 1}, {2, 0}}},
	{".#..###.........", 3, 2, {{0, 1}, {1, 0}, {1, 1}, {1, 2}}},
	{".#..##...#......", 2, 3, {{0, 1}, {1, 0}, {1, 1}, {2, 1}}},
	{"##..##..........", 2, 2, {{0, 0}, {0, 1}, {1, 0}, {1, 1}}},
	{"##...##.........", 3, 2, {{0, 0}, {0, 1}, {1, 1}, {1, 2}}},
	{".#..##..#.......", 2, 3, {{0, 1}, {1, 0}, {1, 1}, {2, 0}}},
	{".##.##..........", 3, 2, {{0, 1}, {0, 2}, {1, 0}, {1, 1}}},
	{"#...##...#......", 2, 3, {{0, 0}, {1, 0}, {1, 1}, {2, 1}}}
};

int		main(int argc, char **argv)
{
	char		*str;
	char		**field;
	char		**temp;
	t_list		*list;

	if (argc != 2)
	{
		write(1, "usage: ./fillit [filename]\n", 27);
		return (0);
	}
	str = file_to_str(argv[1]);
	if ((temp = ft_validate(str, ft_count_words(str, '\n'))) != NULL)
	{
		list = str_to_list(temp, (ft_count_words(str, '\n') / 4), -1, 0);
		field = ft_create_field(2);
		field = building_cube(list, field, 1);
		ft_putstr_cube(field);
	}
	else
		return_error_message();
	return (0);
}
